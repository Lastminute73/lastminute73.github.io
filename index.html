<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monster Jam Family Costume Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with School Bus Yellow Accent -->
    <!-- Application Structure Plan: The application uses a task-oriented, tabbed navigation structure ('Overview', 'The Truck', 'The Pit Crew', 'Shopping List', 'Creative Ideas') to break the project into manageable parts. This structure remains effective for the new "Classroom Crusher" theme, guiding the user through planning, building, and shopping. The 'Creative Ideas' tab is re-purposed with new AI prompts to generate theme-specific ideas for the school bus truck. -->
    <!-- Visualization & Content Choices: 
        - Project Checklist (HTML/JS): Goal: Organize/Track. Interaction: Check items to update progress. Justification: Provides a clear, step-by-step guide for the new truck build.
        - Progress Bar (HTML/CSS/JS): Goal: Show Change. Interaction: Width updates based on checklist completion. Justification: Visually represents project progress.
        - Filterable Shopping List (HTML/JS): Goal: Organize. Interaction: Category filters. Justification: Simplifies shopping for new materials like different paint colors.
        - Cost Breakdown Donut Chart (Chart.js/Canvas): Goal: Inform/Compare. Interaction: Tooltips on hover. Justification: Visualizes the budget for the new theme.
        - AI Idea Generation (Gemini API/JS): Goal: Inspire. Interaction: Button click calls LLM with updated prompts about the Classroom Crusher truck to generate relevant creative ideas. Justification: Adds a dynamic, creative element tailored to the user's new request.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #3D352E;
        }
        .tab-active {
            border-color: #FECB2E;
            background-color: #FFFBEB;
            color: #3D352E;
            font-weight: 600;
        }
        .tab-inactive {
            border-color: transparent;
            color: #7A6A5C;
        }
        .progress-bar-fill {
            transition: width 0.5s ease-in-out;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #EAE5E0;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #FECB2E;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Project: Monster Jam Halloween</h1>
            <p class="mt-2 text-lg text-gray-600">A complete guide to creating a Classroom Crusher truck and Pit Crew family costume.</p>
        </header>

        <nav class="flex flex-wrap justify-center border-b-2 border-gray-200 mb-8 space-x-2 md:space-x-4">
            <button data-tab="overview" class="tab-btn text-sm md:text-base py-3 px-4 md:px-6 border-b-4 tab-active">Overview</button>
            <button data-tab="truck" class="tab-btn text-sm md:text-base py-3 px-4 md:px-6 border-b-4 tab-inactive">The Truck</button>
            <button data-tab="crew" class="tab-btn text-sm md:text-base py-3 px-4 md:px-6 border-b-4 tab-inactive">The Pit Crew</button>
            <button data-tab="shopping" class="tab-btn text-sm md:text-base py-3 px-4 md:px-6 border-b-4 tab-inactive">Shopping List</button>
            <button data-tab="ideas" class="tab-btn text-sm md:text-base py-3 px-4 md:px-6 border-b-4 tab-inactive">Creative Ideas ✨</button>
        </nav>

        <main>
            <div id="overview" class="tab-content">
                <section>
                    <h2 class="text-2xl font-bold mb-4 text-center">Project Dashboard</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">This is your mission control for the project. The plan is to transform a Power Wheels into the Classroom Crusher monster truck for your son, while the rest of the family becomes his dedicated pit crew. Use the checklist below to track your progress from start to finish!</p>
                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold mb-4">Project Progress</h3>
                        <div class="w-full bg-gray-200 rounded-full h-6">
                            <div id="progressBar" class="progress-bar-fill bg-yellow-400 h-6 rounded-full text-center text-gray-800 font-bold flex items-center justify-center" style="width: 0%;">
                                <span id="progressText">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Master Checklist</h3>
                        <div id="checklist" class="space-y-3"></div>
                    </div>
                </section>
            </div>

            <div id="truck" class="tab-content hidden">
                 <section>
                    <h2 class="text-2xl font-bold mb-4 text-center">Building the Classroom Crusher</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">This section covers the transformation of a standard Power Wheels into a monster school bus. We'll go over building the bus body, painting, applying decals, and adding the classic school bus details.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">1. Find a Base Vehicle</h3>
                            <p class="text-gray-600">A yellow Power Wheels is still a great start. A Jeep or van style with a boxier shape is ideal, as it provides a better base for a bus body. Look on Facebook Marketplace for used models.</p>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">2. Prep & Paint</h3>
                            <p class="text-gray-600">Clean all surfaces thoroughly. You will need "School Bus Yellow" spray paint for the main body. Use white for the roof, black for the chassis and details, and silver for the front grille and bumper.</p>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">3. Graphics & Decals</h3>
                            <p class="text-gray-600">The key decals are the black stripes along the side, the "SCHOOL BUS" text, and the windows. You can print these on adhesive vinyl or even create them using black duct tape for an easy alternative.</p>
                        </div>
                        <div class="card p-6 lg:col-span-2">
                            <h3 class="text-lg font-bold mb-2">4. Construct the Bus Body</h3>
                            <p class="text-gray-600">Use large cardboard boxes to build a boxy school bus frame around the Power Wheels seat and steering wheel. Create a roof and sides. Secure the pieces together with duct tape and hot glue, then paint the entire structure School Bus Yellow (with a white roof).</p>
                        </div>
                         <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">5. Finishing Touches</h3>
                            <p class="text-gray-600">Create a stop sign from red cardboard that can be folded out from the side. Use red and yellow bottle caps or reflectors for the flashing lights on the front and back. Paint a simple grille on the front with silver paint.</p>
                        </div>
                    </div>
                     <div class="mt-8 text-center">
                        <button id="getTruckIdeasBtn" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors">
                            ✨ Get More Truck Upgrade Ideas
                        </button>
                    </div>
                </section>
            </div>

            <div id="crew" class="tab-content hidden">
                <section>
                    <h2 class="text-2xl font-bold mb-4 text-center">Assembling the Pit Crew</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">Every great driver needs a great team. This section outlines costume ideas for Mom, Dad, and the newest, tiniest crew member. The goal is a coordinated, comfortable, and fun look for the whole family.</p>
                    <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">Dad's Pit Crew Gear</h3>
                             <ul class="list-disc list-inside text-gray-600 space-y-2">
                                <li><strong>Jumpsuit:</strong> A simple tan or navy work jumpsuit (e.g., from Dickies or Red Kap).</li>
                                <li><strong>Hat:</strong> A black or yellow baseball cap with a Monster Jam or a tool brand patch.</li>
                                <li><strong>Accessories:</strong> Toy tool belt, safety glasses, and maybe some grease smudges on the face (using makeup) for effect.</li>
                            </ul>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">Mom's Pit Crew Gear</h3>
                            <ul class="list-disc list-inside text-gray-600 space-y-2">
                                <li><strong>Jumpsuit/Coveralls:</strong> Matching jumpsuit, or a combo of work pants and a branded t-shirt.</li>
                                <li><strong>Headwear:</strong> A bandana or a matching baseball cap.</li>
                                <li><strong>Accessories:</strong> A prop clipboard with a "pre-race checklist," a checkered flag, or a toy impact wrench.</li>
                            </ul>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-lg font-bold mb-2">Baby Crew Chief</h3>
                           <ul class="list-disc list-inside text-gray-600 space-y-2">
                                <li><strong>Outfit:</strong> A comfortable brown or black onesie. Create an iron-on patch that says "Crew Chief".</li>
                                <li><strong>Hat:</strong> A soft baby beanie or a tiny baseball cap.</li>
                                <li><strong>Accessory:</strong> A soft, plush toy wrench or a pair of baby-sized noise-canceling headphones for the theme.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-8 text-center">
                        <button id="getCrewBackstoryBtn" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors">
                            ✨ Generate a Fun Pit Crew Backstory
                        </button>
                    </div>
                </section>
            </div>

            <div id="shopping" class="tab-content hidden">
                 <section>
                    <h2 class="text-2xl font-bold mb-4 text-center">Project Shopping List</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">Here is a consolidated list of all the items you'll need to buy or source. Use the filters to focus on what you're shopping for. The cost breakdown chart provides a visual overview of your project budget.</p>
                    <div class="flex justify-center mb-6 space-x-2">
                        <button class="filter-btn bg-yellow-400 text-gray-800 font-semibold py-2 px-4 rounded-lg" data-filter="all">All Items</button>
                        <button class="filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg" data-filter="Truck">Truck Parts</button>
                        <button class="filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg" data-filter="Crew">Crew Gear</button>
                    </div>
                    <div class="grid lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 card p-6">
                             <h3 class="text-xl font-semibold mb-4">Purchase List</h3>
                             <div class="overflow-x-auto">
                                <table class="w-full text-left">
                                    <thead class="bg-gray-50 border-b">
                                        <tr>
                                            <th class="p-3">Item</th>
                                            <th class="p-3">Category</th>
                                            <th class="p-3 text-right">Est. Cost</th>
                                        </tr>
                                    </thead>
                                    <tbody id="shoppingListBody"></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold mb-4 text-center">Cost Breakdown</h3>
                            <div class="chart-container">
                                <canvas id="costChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div id="ideas" class="tab-content hidden">
                <section>
                    <h2 class="text-2xl font-bold mb-4 text-center">✨ Creative Corner ✨</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">Feeling stuck? Let our AI assistant brainstorm some unique ideas to take your family's costume to the next level. Click the buttons below to generate new ideas!</p>
                    
                    <div class="grid md:grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold mb-4">Classroom Crusher Upgrade Ideas</h3>
                            <button id="generateTruckIdeas" class="w-full bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors mb-4">Generate Truck Ideas</button>
                            <div id="truckIdeasLoader" class="hidden mx-auto my-4 loader"></div>
                            <div id="truckIdeasResult" class="text-gray-600 space-y-4"></div>
                        </div>

                        <div class="card p-6">
                            <h3 class="text-xl font-semibold mb-4">Pit Crew Backstory</h3>
                            <button id="generateCrewBackstory" class="w-full bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors mb-4">Generate Crew Backstory</button>
                            <div id="crewBackstoryLoader" class="hidden mx-auto my-4 loader"></div>
                            <div id="crewBackstoryResult" class="text-gray-600 space-y-3 prose"></div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
        const projectData = {
            checklist: [
                { text: "Source yellow Power Wheels (Jeep/van style ideal)", completed: false },
                { text: "Purchase all paints and supplies", completed: false },
                { text: "Clean and prep Power Wheels for painting", completed: false },
                { text: "Paint body yellow, roof white, and chassis black", completed: false },
                { text: "Construct and paint cardboard bus body frame", completed: false },
                { text: "Attach bus body to Power Wheels", completed: false },
                { text: "Apply black stripes and 'SCHOOL BUS' decals", completed: false },
                { text: "Create and attach stop sign and lights", completed: false },
                { text: "Acquire adult pit crew jumpsuits", completed: false },
                { text: "Get hats and accessories for adults", completed: false },
                { text: "Create 'Crew Chief' infant costume", completed: false },
                { text: "Final costume fitting for everyone", completed: false }
            ],
            shoppingList: [
                { item: "Used Yellow Power Wheels", category: "Truck", cost: 100 },
                { item: "Spray Paint (Yellow, Black, White, Silver, Red)", category: "Truck", cost: 35 },
                { item: "Adhesive Vinyl or Black Duct Tape", category: "Truck", cost: 15 },
                { item: "Large Cardboard Boxes", category: "Truck", cost: 0 },
                { item: "Red/Yellow Bottle Caps or Reflectors", category: "Truck", cost: 5},
                { item: "Duct Tape & Hot Glue", category: "Truck", cost: 10 },
                { item: "Adult Work Jumpsuits (x2)", category: "Crew", cost: 80 },
                { item: "Baseball Caps (x2)", category: "Crew", cost: 20 },
                { item: "Toy Tool Belts / Props", category: "Crew", cost: 25 },
                { item: "Brown Infant Onesie", category: "Crew", cost: 10 },
                { item: "Iron-on Transfer Paper", category: "Crew", cost: 10 },
                { item: "Soft Baby Beanie", category: "Crew", cost: 5 },
            ]
        };

        const tabs = document.querySelectorAll('.tab-btn');
        const contents = document.querySelectorAll('.tab-content');
        const checklistContainer = document.getElementById('checklist');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const shoppingListBody = document.getElementById('shoppingListBody');
        const filterBtns = document.querySelectorAll('.filter-btn');

        function updateProgress() {
            const checkedItems = projectData.checklist.filter(item => item.completed).length;
            const totalItems = projectData.checklist.length;
            const percentage = totalItems > 0 ? Math.round((checkedItems / totalItems) * 100) : 0;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${percentage}%`;
        }

        function renderChecklist() {
            checklistContainer.innerHTML = '';
            projectData.checklist.forEach((item, index) => {
                const div = document.createElement('div');
                div.classList.add('flex', 'items-center');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = `item-${index}`;
                checkbox.checked = item.completed;
                checkbox.dataset.index = index;
                checkbox.classList.add('h-5', 'w-5', 'rounded', 'border-gray-300', 'text-yellow-500', 'focus:ring-yellow-400');
                
                const label = document.createElement('label');
                label.htmlFor = `item-${index}`;
                label.textContent = item.text;
                label.classList.add('ml-3', 'text-gray-700');
                if (item.completed) {
                    label.classList.add('line-through', 'text-gray-400');
                }

                div.appendChild(checkbox);
                div.appendChild(label);
                checklistContainer.appendChild(div);
            });
        }
        
        checklistContainer.addEventListener('change', (e) => {
            if (e.target.type === 'checkbox') {
                const index = e.target.dataset.index;
                projectData.checklist[index].completed = e.target.checked;
                renderChecklist();
                updateProgress();
            }
        });

        function switchTab(tabId) {
             tabs.forEach(item => {
                item.classList.remove('tab-active');
                item.classList.add('tab-inactive');
                if(item.dataset.tab === tabId) {
                    item.classList.add('tab-active');
                    item.classList.remove('tab-inactive');
                }
            });
            contents.forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tabId).classList.remove('hidden');
        }

        tabs.forEach(tab => {
            tab.addEventListener('click', () => switchTab(tab.dataset.tab));
        });
        
        document.getElementById('getTruckIdeasBtn').addEventListener('click', () => {
            switchTab('ideas');
            document.getElementById('generateTruckIdeas').click();
        });

        document.getElementById('getCrewBackstoryBtn').addEventListener('click', () => {
            switchTab('ideas');
            document.getElementById('generateCrewBackstory').click();
        });


        function renderShoppingList(filter = 'all') {
            shoppingListBody.innerHTML = '';
            const filteredList = projectData.shoppingList.filter(item => filter === 'all' || item.category === filter);

            filteredList.forEach(item => {
                const row = document.createElement('tr');
                row.classList.add('border-b');
                row.innerHTML = `
                    <td class="p-3">${item.item}</td>
                    <td class="p-3">
                        <span class="px-2 py-1 text-xs font-semibold rounded-full ${item.category === 'Truck' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}">
                            ${item.category}
                        </span>
                    </td>
                    <td class="p-3 text-right font-mono">$${item.cost.toFixed(2)}</td>
                `;
                shoppingListBody.appendChild(row);
            });
        }

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.replace('bg-yellow-400', 'bg-gray-200'));
                btn.classList.replace('bg-gray-200', 'bg-yellow-400');
                renderShoppingList(btn.dataset.filter);
            });
        });

        function renderCostChart() {
            const ctx = document.getElementById('costChart').getContext('2d');
            const truckCost = projectData.shoppingList
                .filter(i => i.category === 'Truck')
                .reduce((sum, i) => sum + i.cost, 0);
            const crewCost = projectData.shoppingList
                .filter(i => i.category === 'Crew')
                .reduce((sum, i) => sum + i.cost, 0);

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Truck Modification', 'Pit Crew Costumes'],
                    datasets: [{
                        data: [truckCost, crewCost],
                        backgroundColor: ['#FECB2E', '#3D352E'],
                        borderColor: '#FFFFFF',
                        borderWidth: 4,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        }
        
        async function callGeminiAPI(userQuery, systemPrompt, maxRetries = 3) {
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];
                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        return candidate.content.parts[0].text;
                    } else {
                        throw new Error("Invalid response structure from API.");
                    }
                } catch (error) {
                    console.error(`API call failed (attempt ${i + 1}):`, error);
                    if (i === maxRetries - 1) {
                         return "Sorry, I couldn't generate ideas right now. Please try again later.";
                    }
                    await new Promise(resolve => setTimeout(resolve, 1000 * Math.pow(2, i)));
                }
            }
        }
        
        const truckIdeasBtn = document.getElementById('generateTruckIdeas');
        const truckIdeasLoader = document.getElementById('truckIdeasLoader');
        const truckIdeasResult = document.getElementById('truckIdeasResult');
        
        truckIdeasBtn.addEventListener('click', async () => {
            truckIdeasLoader.style.display = 'block';
            truckIdeasResult.innerHTML = '';
            const userQuery = "Brainstorm 5 creative, low-budget DIY ideas to make a kid's Power Wheels monster truck costume, themed like the 'Classroom Crusher' school bus from Monster Jam, look even more awesome. Focus on simple materials like cardboard, paint, and craft supplies. Format the response as a numbered list.";
            const systemPrompt = "You are a creative assistant specializing in DIY Halloween costumes for kids. Provide fun, practical, and safe ideas.";
            
            const responseText = await callGeminiAPI(userQuery, systemPrompt);
            
            const ideas = responseText.split(/\d+\./).filter(Boolean).map(idea => idea.trim());
            truckIdeasResult.innerHTML = ideas.map(idea => `<div class="p-4 border rounded-lg bg-gray-50">${idea.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</div>`).join('');
            truckIdeasLoader.style.display = 'none';
        });

        const crewBackstoryBtn = document.getElementById('generateCrewBackstory');
        const crewBackstoryLoader = document.getElementById('crewBackstoryLoader');
        const crewBackstoryResult = document.getElementById('crewBackstoryResult');

        crewBackstoryBtn.addEventListener('click', async () => {
            crewBackstoryLoader.style.display = 'block';
            crewBackstoryResult.innerHTML = '';
            const userQuery = "Write a short, fun, and imaginative backstory (3 paragraphs) for a family dressing up as a Monster Jam pit crew for Halloween. The crew includes a Dad, a Mom, and a 6-month-old baby who is the 'Crew Chief'. The driver of their truck, the school bus-themed Classroom Crusher, is their young son.";
            const systemPrompt = "You are a creative writer who crafts charming and imaginative family stories.";
            
            const responseText = await callGeminiAPI(userQuery, systemPrompt);
            crewBackstoryResult.innerHTML = responseText.split('\n').filter(p => p.trim() !== '').map(p => `<p>${p}</p>`).join('');
            crewBackstoryLoader.style.display = 'none';
        });


        function init() {
            renderChecklist();
            updateProgress();
            renderShoppingList();
            renderCostChart();
        }

        init();
    </script>
</body>
</html>

